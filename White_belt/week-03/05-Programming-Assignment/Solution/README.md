Отличие от предыдущей задачи состоит лишь в необходимости добавить метод *GetFullNameWithHistory*. Но для того, чтобы избежать дублирования кода в методах *GetFullName* и *GetFullNameWithHistory*, решение предыдущей задачи придётся значительно переработать.

Напишем следующие вспомогательные функции:

1. Функцию *FindNamesHistory*, возвращающую по году и словарю «год → имя (фамилия)» всю историю изменений имени (фамилии) к этому году в виде вектора строк.
2. Функцию *BuildJoinedName*, по истории изменений имени (фамилии) возвращающую эту историю в виде единой строки: сначала последнее имя, затем в круглых скобках через запятую все предыдущие имена.
3. Функцию *BuildFullName*, по имени и фамилии (возможно, неизвестным, то есть пустым) возвращающую полное имя в требуемом формате. В прошлой задаче этот код находился непосредственно в методе *GetFullName*, теперь же он понадобился и в методе *GetFullNameWithHistory* — потому мы и выделили его в отдельную функцию.

Кроме того, напишем короткие вспомогательные приватные методы *FindFirstNamesHistory* и *FindLastNamesHistory*, с помощью функции *FindNamesHistory* возвращающие по данному году историю изменений имени или фамилии.

В методах *GetFullName* и *GetFullNameWithHistory* останется лишь аккуратно вызвать описанные выше функции и методы.